# 大数加法



## 1.编写main函数

* 用类定义两个大数分别为*a*和*b*

~~~c++
int main()
{
	cout << "------------大数加法------------" << endl;
	cout << "请输入两个数，中间用空格隔开：" << endl;
	Bignum a;
	Bignum b;
	cin >> a >> b;
	cout << a + b << endl;
	return 0;
}
~~~



## 2.创建类和变量

* 在输入两个大数时以**字符串**类型接收，*len*表示字符串长度
* 定义*arr*数组，用于后面将大数每一位分别存储在**整型数组**里

~~~c++
class Bignum
{
private:
    int len;
    int arr[100];
};
~~~



## 3.重载输入运算符

* 用*length*求出字符串长度，即输入的大数的位数
* 将大数的**个位存在下标为0**的整型数组中，以此类推
* 以字符串每一位**减去 ‘ 0 ’** (即减去ASCII值)，将每一位数字由字符类型转换为整形

~~~c++
public:
	friend istream& operator >> (istream& is, Bignum& a)
	{
		string s;
		is >> s;
		int i;
		a.len = s.length();
		for (i = 0; i < 100; i++)
		{
			a.arr[i] = 0;
		}
		for (i = 0; i < a.len; i++)
		{
			a.arr[i] = s[a.len - 1 - i] - '0';
		}
		return is;
	}
~~~



## 4.重载输出运算符

* 将最后的结果从数组中**倒序输出**，即先输出最大的位数

~~~c++
	friend ostream& operator << (ostream& os, const Bignum& a)
	{
		int i;
		for (i = a.len - 1; i >= 0; i--)
		{
			os << a.arr[i];
		}
		return os;
	}
~~~



## 5.重载加法运算符

* 定义变量*plus*，用`sum / 10`，表示每次的**进位**
* 定义变量*sum*，表示**两数相同位加上进位**
* 定义变量*result*，用`sum % 10`，表示两数相加后这一位的**最终结果数字**



for循环结束后，==如果plus != 0，最终结果的位数为**i+1**，如果plus == 0，最终结果位数为**i**==

~~~c++
Bignum operator+(const Bignum& b)
	{
		Bignum result;
		
		int i, plus = 0, sum;
		for (i = 0; (i < len || i < b.len); i++)
		{
			sum = arr[i] + b.arr[i] + plus;
			result.arr[i] = sum % 10;
			plus = sum / 10;
		}
		if (plus != 0)
		{
			result.arr[i] = plus;
			result.len = i + 1;
		}
		else
			result.len = i;
		return result;
	}
~~~



